<?php 
      $jssdk = new JSSDK("wx80c487097b512789", "422d3a86338493d2f7b0e56507e5ac19");//你的appid,appsecret
      $signPackage = $jssdk->GetSignPackage();
      print_r($signPackage);die;
      $Getpicture = 

 ?>
<!DOCTYPE html> 
<html lang="en"> 
    <head> 
        <meta charset="UTF-8"> 
        <title>js微信自定义分享标题、链接和图标</title> 
         <meta name="keywords" content="js微信分享,php微信分享" /> 
        <meta name="description" content="PHP自定义微信分享内容，包括标题、图标、链接等，分享成功和取消有js回调函数。" /> 
    </head> 
    <body> 
 
    </body> 
    <script src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>
    <script>
            wx.config({
                debug: false,//关闭调试模式
                appId: '<?php echo $signPackage["appId"];?>',
                timestamp: <?php echo $signPackage["timestamp"];?>,
                nonceStr: '<?php echo $signPackage["nonceStr"];?>',
                signature: '<?php echo $signPackage["signature"];?>',
              /*appId: 'xxxxxx',
                timestamp: xxxxx,
                nonceStr: 'xxxxx',
                signature: 'xxxxx',*/
              
                jsApiList: [
                  // 所有要调用的 API 都要加到这个列表中
                'checkJsApi',
                    'onMenuShareTimeline',
                    'onMenuShareAppMessage',
                    'onMenuShareQQ'
                ]
              });
              wx.ready(function () {
             
              // 2. 分享接口
              // 2.1 监听"分享给朋友"，按钮点击、自定义分享内容及分享结果接口
              
                wx.onMenuShareAppMessage({
                   title: '微贸通电子商务（深圳）有限公司',
                  desc: '众筹通-中国首家海外众筹营销服务商，致力于中国企业打造世界品牌.',
                  link: '<?php  echo $url;?>',
                  imgUrl: 'http://www.ugomi.com/logogogo.png',//自定义图片地址
                  trigger: function (res) {
                   // alert('用户点击发送给朋友');
                  },
                  success: function (res) {
                   // alert('已分享');
                    window.location.href = 'https://www.ugomi.com';
                  },
                  cancel: function (res) {
                    alert('已取消');
                  },
                  fail: function (res) {
                    alert(JSON.stringify(res));
                  }
                });
              
              // 2.2 监听"分享到朋友圈"按钮点击、自定义分享内容及分享结果接口
                wx.onMenuShareTimeline({
                  title: '微贸通电子商务（深圳）有限公司',
                  link: '<?php  echo $url; ?>',
                  imgUrl: 'http://www.ugomi.com/logogogo.png',//自定义图片地址
                  trigger: function (res) {
                   // alert('用户点击分享到朋友圈');
                  },
                  success: function (res) {
                    //alert('已分享');
                    window.location.href = 'http://www.ugomi.com';
                  },
                  cancel: function (res) {
                    alert('已取消');
                  },
                  fail: function (res) {
                    alert(JSON.stringify(res));
                  }
                });
              });
    </script>
    <p style="text-align: center;color:red;font-size:20px;margin-top: 120px">请用微信浏览器打开，并打开右上方按钮。分享到朋友圈试试。</p> 
</html>